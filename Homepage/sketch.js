let data,videolinks,cnv,namea,circles,hoverNames,idstring,currentSpeedx,currentSpeedy,reflink,diameter,circlesDiv=[],namesdiv=[],changesColors=!1,particleIsStop=!1,refParticles=[],refDiv=[],angle=0;class Particle{constructor(){this.x=random(230,width-130),this.y=random(230,height-130),this.r=15,this.xSpeed=random(-.5,.5),this.ySpeed=random(-.5,.5)}createParticle(e,t){noStroke(),fill(t)}moveParticle(){(this.x<width/10||this.x>.8*width)&&(this.xSpeed*=-1),(this.y<height/10||this.y>2*height)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed}stopParticle(){this.x=mouseX,this.y=mouseY,this.xSpeed+=0,this.ySpeed+=0}joinParticles(e){e.forEach(e=>{dist(this.x,this.y,e.x,e.y)<100&&(stroke("rgba(255,255,255)"),strokeWeight(.5),line(this.x,this.y,e.x,e.y))})}}let particles=[];function preload(){myFont=loadFont("TINY5x3-140.otf"),data=loadTable("name-colors.csv","csv","header"),videolinks=loadTable("articles.csv","csv","header")}function setup(){let e=document.getElementById("background-container");diameter=50,(cnv=createCanvas(e.offsetWidth,windowHeight/2)).parent(e),cnv.position(0,0);for(let e=0;e<videolinks.getRowCount();e++)refParticles.push(new Particle),(reflink=createElement("a")).style("background-color","#ffff00"),refDiv.push(reflink);for(let e=0;e<data.getRowCount();e++)particles.push(new Particle),namea=createElement("a"),circles=createElement("div"),namea.style("color","#fff"),namesdiv.push(namea),circlesDiv.push(circles);for(let e=0;e<namesdiv.length;e++)namesdiv[e].id(str(data.getColumn("names")[e])),circlesDiv[e].id(concat(str(data.getColumn("names")[e]),str(e))),document.getElementById(str(data.getColumn("names")[e])).innerText=str(data.getColumn("names")[e]),document.getElementById(str(data.getColumn("names")[e])).href=data.getColumn("websites")[e];console.log("namesdiv#"+namesdiv.length),rectMode(CENTER),textFont(myFont)}function draw(){clear();let e=10+sin(angle+PI/2)*diameter/2+diameter/2;for(let t=0;t<refParticles.length;t++){let o=color(255,255,255);refDiv[t].id(concat("video",str(t))),refDiv[t].position(refParticles[t].x+150,refParticles[t].y+175),document.getElementById(concat("video",str(t))).style.width=str(concat(str(e),"px")),document.getElementById(concat("video",str(t))).style.height=str(concat(str(e),"px")),document.getElementById(concat("video",str(t))).style.borderRadius="50%",document.getElementById(concat("video",str(t))).href=videolinks.getColumn("articles")[t],document.getElementById(concat("video",str(t))).target="_blank",document.getElementById(concat("video",str(t))).style.border="1px solid",document.getElementById(concat("video",str(t))).style.borderColor="#fff000",document.getElementById(concat("video",str(t))).style.boxShadow="0 0 10px #ffff00",document.getElementById(concat("video",str(t))).onmouseover=function(){refParticles[t].xSpeed*=0,refParticles[t].ySpeed*=0},document.getElementById(concat(str(data.getColumn("names")[t]),str(t))).onmouseout=function(){refParticles[t].ySpeed+=random(-1.5,1.5),refParticles[t].moveParticle(particles[t]),refParticles[t].joinParticles(particles.slice(t))},refParticles[t].createParticle(videolinks.getColumn("")[t],o),refParticles[t].moveParticle(),refParticles[t].joinParticles(particles.slice(t))}angle+=.02;for(let e=0;e<particles.length;e++){let t=color(str(data.getColumn("colors")[e]));document.getElementById(str(data.getColumn("names")[e])).onmouseover=function(){document.getElementById(str(data.getColumn("names")[e])).style.color=t,document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.backgroundColor=t,document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.border="5px solid",document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.borderColor=t,document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.boxShadow="0 0 10px #ffff00",particles[e].xSpeed*=0,particles[e].ySpeed*=0},document.getElementById(str(data.getColumn("names")[e])).onmouseout=function(){document.getElementById(str(data.getColumn("names")[e])).style.color="#fff",document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.backgroundColor="#fff",document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.borderStyle="none",document.getElementById(concat(str(data.getColumn("names")[e]),str(e))).style.boxShadow="none",particles[e].xSpeed+=random(-.25,.25),particles[e].ySpeed+=random(-.25,.25),particles[e].moveParticle(particles[e]),particles[e].joinParticles(particles.slice(e))},particles[e].createParticle(data.getColumn("names")[e],t),particles[e].moveParticle(),particles[e].joinParticles(particles.slice(e)),circlesDiv[e].addClass("circles"),circlesDiv[e].position(particles[e].x+150,particles[e].y+175),circlesDiv[e].style("background-color",t),namesdiv[e].position(particles[e].x+180,particles[e].y+185)}}function changeColors(){for(let e=0;e<namesdiv[e].length;e++){let t=color(str(data.getColumn("colors")[e]));namesdiv[e].style("color",t)}}function windowResized(){document.getElementById("background-container");cnv=resizeCanvas(width,height)}